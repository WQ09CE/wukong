# 锚点模板 (Anchor Templates)

## 决策锚点 [Dxxx]

```markdown
## [D001] {决策标题}

**时间**: {YYYY-MM-DD}
**背景**: {为什么需要做这个决策，1-2 句话}

**选项**:
| 选项 | 优点 | 缺点 |
|------|------|------|
| {选项A} | {优点} | {缺点} |
| {选项B} | {优点} | {缺点} |

**决定**: {最终选择}
**原因**: {选择这个的主要原因}
**影响**: {这个决策带来的影响}
```

---

## 约束锚点 [Cxxx]

```markdown
## [C001] {约束标题}

**时间**: {YYYY-MM-DD}
**来源**: {用户要求 / 技术限制 / 合规要求}
**约束**: {具体的约束内容}
**原因**: {为什么需要这个约束}
**验证**: {如何验证是否满足约束}
```

---

## 接口锚点 [Ixxx]

```markdown
## [I001] {接口名称}

**时间**: {YYYY-MM-DD}
**模块**: {所属模块}

**签名**:
```python
def {function_name}({params}) -> {return_type}:
    """
    {description}

    Args:
        {param1}: {description}
        {param2}: {description}

    Returns:
        {return description}

    Raises:
        {exception}: {when}
    """
```

**使用示例**:
```python
{usage example}
```

**依赖**: {依赖的其他接口}
**被依赖**: {依赖此接口的模块}
```

---

## 问题锚点 [Pxxx]

```markdown
## [P001] {问题标题}

**时间**: {YYYY-MM-DD}
**严重度**: Critical / Major / Minor
**状态**: Open / In Progress / Resolved

**症状**: {问题的表现}
**根因**: {问题的根本原因}
**解决方案**: {如何解决}
**预防**: {如何防止再次发生}
```

---

## 用户偏好锚点 [Uxxx]

```markdown
## [U001] {偏好标题}

**时间**: {YYYY-MM-DD}
**类型**: 沟通风格 / 代码风格 / 工作流程 / 其他

**偏好**: {具体偏好内容}
**证据**: "{用户原话}"
**应用**: {何时应用这个偏好}
```

---

## 锚点命名规范

| 类型 | 前缀 | 编号 | 示例 |
|------|------|------|------|
| 决策 | D | 001-999 | [D001], [D042] |
| 约束 | C | 001-999 | [C001], [C015] |
| 接口 | I | 001-999 | [I001], [I008] |
| 问题 | P | 001-999 | [P001], [P003] |
| 偏好 | U | 001-999 | [U001], [U002] |

## 锚点引用示例

在任何文档中引用锚点：
```markdown
根据 [D001] 的决策，我们使用 Ollama 作为 LLM 后端。
需要注意 [P003] 中提到的内存泄漏问题。
请遵循 [C002] 的脱敏要求。
```
